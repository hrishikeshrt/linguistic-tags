{% set active_page = "about" %}
{% extends "base.html" %}
{% block content %}
<div class="container p-3">
    <div class="card">
        <div class="card-header">
            <span>Samanvaya</span>
            <span class="text-secondary">
                <i class="fa fa-equals mx-1"></i>
                Common Tagset for Major Indian Langauges
            </span>
        </div>
        <div class="card-body">
            The word <b>Samanvaya</b> <i>(Devanagari: समन्वय)</i> means
            coordination or mutual connection. All Indian languages share this
            harmonious connection through a rich linguistic tradition. Serving
            as a testament to this coherence, <i>Samanvaya Tagset</i> is common
            tagset for major Indian languages towards various computational
            linguistic tasks.
        </div>
    </div>
    <div class="card mt-2">
        <div class="card-header">
            Tag Categories
        </div>
        <div id="tag-category-list" class="card-body p-0 m-0"></div>
    </div>
</div>
{% endblock %}
{% block javascript %}
    <script>
        const API_URL_LIST_TAGS = "{{url_for('list_tags')}}";
        const URL_SHOW_TAG = "{{url_for('show_tag')}}";
    </script>
    <script src="{{url_for('static', filename='custom/js/functions.js')}}"></script>
    <script>
        const $tag_category_table_container = $("#tag-category-list");


        function show_category_formatter(value, row, index, field) {
            return `<a class="btn btn-sm btn-primary" target="_blank" href="${URL_SHOW_TAG}?category=${row.category}"><i class="fas fa-arrow-right"></i></a>`;
        }

        function render_tags_table() {
            const api_url = API_URL_LIST_TAGS;
            const columns = [
                // {field: "category", title: "Category"},
                {field: "hindi", title: "Hindi"},
                {field: "english", title: "English"},
                {field: "count", title: "Count", align: "center"},
                {field: "view", title: "View", formatter: "show_category_formatter", align: "center"}
            ];
            $.getJSON(api_url, function(response) {
                render_table($tag_category_table_container, {
                    columns: columns,
                    rows: response
                }, {
                    showColumns: false,
                }, "tag_categories");
            });
        }

        window.addEventListener('load', function () {
            render_tags_table();
        });
    </script>
{% endblock %}